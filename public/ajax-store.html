<!DOCTYPE html>
<html>
	<head>
		<title>Online Store</title>
	</head>
	<body>

	<h1>My Tool Store</h1>

	<table id="products">
		<thead>
			<tr>
				<th>Title</th>
				<th>Quantity</th>
				<th>Price</th>
				<th>Categories</th>
			</tr>
		</thead>
		<tbody id="insertProducts"></tbody>
	</table>

	<button id="ajax">Send AJAX request</button>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<script>
	(function() {
		"use strict";

		// TODO: Create an ajax GET request for /data/inventory.json

		// TODO: Take the data from inventory.json and append it to the products table
		//       HINT: Your data should come back as a JSON object; use console.log() to inspect
		//             its contents and fields
		//       HINT: You will want to target #insertProducts for your new HTML elements

// 		$("#ajax").click(sendRequest);

// 		function sendRequest(){
// 			var getRequest = $.get("/data/inventory.json");

// 			getRequest.done(function(data,status){
// 				console.log(data);
// 			});

// 			getRequest.fail(function(jqXhr, status, error){
// 				console.log(status);
// 				console.log(error);
// 			});

// 			insertData();
// 		}



		// $("#ajax").click(function(){
		// 	$.get('/data/inventory.json').done(function(data) {
		// 		console.log(data);

		// 		data.forEach(function(objectTool){
		// 		$('#insertProducts').append('<tr><td>'+ objectTool.title + '</td>' + '<td>' + objectTool.quantity+'</td>' 
		// 			+ '<td>'+ objectTool.price + '</td>' + '<td>'+ objectTool.categories + '</td></tr>');
		// 		})
		// 	})
		// });




//Solution//
		var request = $.get("/data/inventory.json");
		request.done(function (data, status){
			console.log(data);
			addToolsToPage(data);
		});
		request.fail(function(jqXHR, status, error){
			console.log(status);
			console.log(error);
		});

		function addToolsToPage(data){

			data.forEach(function(tool){
				$("#insertProducts").append(
					"<tr>" + 
					"<td>" + tool.title + "</td>" +
					"<td>" + tool.quantity + "</td>" +
					"<td>" + tool.price + "</td>" +
					"<td>" + tool.categories.join(", ") + "</td>" +
					"</tr>"
				);
			});
			

		};













	})();
	</script>

	</body>
</html>
